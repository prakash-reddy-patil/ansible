- name: grep for root 
  hosts: local
  connection: local
  tasks:
  - name: grep for root 
    #ansible.builtin.command:  cat /etc/passwd | grep root
    ansible.builtin.shell:  cat /etc/passwd | grep root
    register: command_output

  - name: print the command_output
    ansible.builtin.debug:
      msg: "{{ command_output }}"

  - name: redirect output 
    ansible.builtin.command:  ls -ltr        # simple command can work with command module 
    register: redirect_output

  - name: print the redirect_output
    ansible.builtin.debug:
      msg: "{{ redirect_output }}"


  - name: redirect output1 
    ansible.builtin.shell:  ls -ltr > /tmp/output.txt       #shell modules can work with complex commands
    register: redirect_output1

  - name: print the redirect_output1
    ansible.builtin.debug:
      msg: "{{ redirect_output1 }}"




# The register keyword is used to capture the output (result) of a task and store it in a variable

# shell vs command 
# ---------------------------------------
# Remote login: take login, execute command, and come out, or log in inside the server and execute the command.
# When we don't have readymade modules available, we can execute a command or shell module. 
# command module -> a simple command with no need of access to shell environment-like variables, bash, piping,etc .
# shell module -> can access variables, pipes, redirections, shell, environment, etc.

